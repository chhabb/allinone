# 浮点和定数类型介绍

## 浮点

FLOAT 和 DOUBLE 类型表示近似的数值数据值。MySQL 使用 4 个字节表示单精度值，使用 8 个字节表示双精度值。下表显示了每种类型所需的存储和范围。

| 类型        | 存储（字节） | M（小数+整数位数） | D（小数位数） |
| ----------- | ------------ | ------------------ | ------------- |
| FLOAT(M,D)  | 4            | M最大为24          | D最大为8      |
| DOUBLE(M,D) | 8            | M最大为53          | D最大为30     |

> 浮点指可以写小数点
>
> M 指所有位之和（包含小数位），1.1是两位
>
> D 指小数位数，1.1是一位

注意：从 MySQL 8.0.17 开始，不推荐使用非标准 FLOAT(M,D) 语法 DOUBLE(M,D) ，未来版本中可能删除对它的支持。 支持unsigned修饰，添加修饰，只保留正值范围负值不会迁移到正值！

> 因为FLOAT(M,D) 、DOUBLE(M,D)使用二进制存储数据，转换十进制可能会存在精度失准的问题，会莫名其妙多几位小数点。
>
>
> 支持unsigned修饰，添加修饰，只保留正值范围负值不会迁移到正值。比如 -1~1，添加unsigned只会保留正数部分，即0~1。

```shell
stu_height float(4,1) unsigned COMMENT ‘身高，保留一位小数，多位会四舍五入’, 
```

> 浮点默认会四舍五入，比如float(4,1) 定义最多4位，有1位小数点。如果存储185.56，存进去会变成185.6。

## 定数

DECIMAL 类型存储精确的数值数据值。当需要保持精确精度时，例如货币数据，商品价格等等！

> 底层采用十进制存储和转换数据，绝对精度。

| 类型         | 存储（字节） | M（小数+整数位数） | D（小数位数） |
| ------------ | ------------ | ------------------ | ------------- |
| DECIMAL(M,D) | 动态计算     | M最大为65          | D最大为30     |

DECIMAL 类型的存储空间是可变的，它的存储大小受 DECIMAL 数据类型定义时指定的精度和规模影响。 如果D小数位数为 0， DECIMAL 则值不包含小数点或小数部分（全都是整数位）。

```sql
emp_salary DECIMAL(8,1) COMMENT ‘工资，保留一位小数，多位会四舍五入’
```

> 如果精度要求更高，DECIMAL 可以用来替换浮点数。
> 如果精度要求不高，可以使用浮点数。